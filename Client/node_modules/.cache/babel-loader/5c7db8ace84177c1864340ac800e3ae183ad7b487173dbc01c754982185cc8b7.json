{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst productSlice = createSlice({\n  name: \"products\",\n  initialState: {\n    CartArr: []\n  },\n  reducers: {\n    addProduct: (state, action) => {\n      console.log(action.payload);\n      const productIndex = state.CartArr.findIndex(p => p._id === action.payload._id);\n      if (productIndex === -1) {\n        state.CartArr.push({\n          ...action.payload,\n          quantity: 1\n        });\n      } else {\n        state.CartArr[productIndex].quantity += 1;\n      }\n    },\n    deleteProduct: (state, action) => {\n      const productIndexRemove = action.payload.id;\n      const newCart = state.CartArr.filter(item => item.id !== productIndexRemove);\n      return {\n        ...state,\n        CartArr: newCart\n      };\n    }\n  }\n});\nexport const {\n  addProduct,\n  deleteProduct\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createSlice","productSlice","name","initialState","CartArr","reducers","addProduct","state","action","console","log","payload","productIndex","findIndex","p","_id","push","quantity","deleteProduct","productIndexRemove","id","newCart","filter","item","actions","reducer"],"sources":["C:/Users/truon/OneDrive/Máy tính/Project-Shop/Client/src/redux/Slice/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst productSlice = createSlice({\r\n  name: \"products\",\r\n  initialState: {\r\n    CartArr: [],\r\n  },\r\n  reducers: {\r\n    addProduct: (state,action) => {\r\n        console.log(action.payload)\r\n        const productIndex = state.CartArr.findIndex((p)=> p._id === action.payload._id )\r\n\r\n        if(productIndex === -1 ){\r\n            state.CartArr.push({...action.payload , quantity: 1 })\r\n        }else{\r\n            state.CartArr[productIndex].quantity += 1;\r\n        }\r\n    },\r\n    deleteProduct: (state, action) => {\r\n        const productIndexRemove = action.payload.id \r\n        const newCart = state.CartArr.filter((item) => item.id !== productIndexRemove)\r\n        return { ...state, CartArr: newCart}\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addProduct, deleteProduct } = productSlice.actions;\r\n\r\nexport default productSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAGD,WAAW,CAAC;EAC/BE,IAAI,EAAE,UAAU;EAChBC,YAAY,EAAE;IACZC,OAAO,EAAE;EACX,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAU,EAAEA,CAACC,KAAK,EAACC,MAAM,KAAK;MAC1BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAACG,OAAO,CAAC;MAC3B,MAAMC,YAAY,GAAGL,KAAK,CAACH,OAAO,CAACS,SAAS,CAAEC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKP,MAAM,CAACG,OAAO,CAACI,GAAI,CAAC;MAEjF,IAAGH,YAAY,KAAK,CAAC,CAAC,EAAE;QACpBL,KAAK,CAACH,OAAO,CAACY,IAAI,CAAC;UAAC,GAAGR,MAAM,CAACG,OAAO;UAAGM,QAAQ,EAAE;QAAE,CAAC,CAAC;MAC1D,CAAC,MAAI;QACDV,KAAK,CAACH,OAAO,CAACQ,YAAY,CAAC,CAACK,QAAQ,IAAI,CAAC;MAC7C;IACJ,CAAC;IACDC,aAAa,EAAEA,CAACX,KAAK,EAAEC,MAAM,KAAK;MAC9B,MAAMW,kBAAkB,GAAGX,MAAM,CAACG,OAAO,CAACS,EAAE;MAC5C,MAAMC,OAAO,GAAGd,KAAK,CAACH,OAAO,CAACkB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACH,EAAE,KAAKD,kBAAkB,CAAC;MAC9E,OAAO;QAAE,GAAGZ,KAAK;QAAEH,OAAO,EAAEiB;MAAO,CAAC;IACxC;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEf,UAAU;EAAEY;AAAc,CAAC,GAAGjB,YAAY,CAACuB,OAAO;AAEjE,eAAevB,YAAY,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}