{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { store } from \"../../redux/store\";\nimport { resetCart } from '../../redux/Slice/cartSlice';\nimport { useNavigate } from 'react-router-dom';\nconst reset = () => {\n  _s();\n  const history = useNavigate();\n  store.dispatch(resetCart());\n  history('/');\n};\n_s(reset, \"UuBpJaL/77ixlr0CeL0xEoy8mog=\", false, function () {\n  return [useNavigate];\n});\nexport default async function CreateOrder(dataCustomers, productCart) {\n  let checkData = false;\n  for (const field in dataCustomers) {\n    if (dataCustomers[field] === \"\") {\n      checkData = false;\n    } else {\n      checkData = true;\n    }\n  }\n  if (checkData && productCart.cartItems.length > 0) {\n    let Order = {\n      \"phone\": dataCustomers.phone,\n      \"address\": dataCustomers.address,\n      \"nameCustome\": dataCustomers.name,\n      \"email\": dataCustomers.email,\n      \"product_orders\": productCart.cartItems.map(item => ({\n        \"product_id\": item._id,\n        \"quantity\": item.quantity,\n        \"size\": item.sizeOrder\n      })),\n      \"status\": \"Pending\"\n    };\n    try {\n      let orderSuccess = await axios.post('http://localhost:8000/api/order', Order);\n      reset();\n      return orderSuccess.data;\n    } catch (error) {\n      console.error('Error sending data to server:', error);\n    }\n  }\n}\n_c = CreateOrder;\nvar _c;\n$RefreshReg$(_c, \"CreateOrder\");","map":{"version":3,"names":["axios","store","resetCart","useNavigate","reset","_s","history","dispatch","CreateOrder","dataCustomers","productCart","checkData","field","cartItems","length","Order","phone","address","name","email","map","item","_id","quantity","sizeOrder","orderSuccess","post","data","error","console","_c","$RefreshReg$"],"sources":["C:/Users/truon/OneDrive/Máy tính/Project-Shop/Client/src/components/API/CreateOrder.js"],"sourcesContent":["import axios from 'axios';\r\nimport { store } from \"../../redux/store\"\r\nimport { resetCart } from '../../redux/Slice/cartSlice';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst reset = () => {\r\n    const history = useNavigate();\r\n    store.dispatch(resetCart());\r\n    history('/');\r\n}\r\nexport default async function CreateOrder(dataCustomers, productCart) {\r\n\r\n    let checkData = false;\r\n    for (const field in dataCustomers) {\r\n        if (dataCustomers[field] === \"\") {\r\n            checkData = false\r\n        } else {\r\n            checkData = true\r\n        }\r\n    }\r\n    if (checkData && productCart.cartItems.length > 0) {\r\n        let Order = {\r\n            \"phone\": dataCustomers.phone,\r\n            \"address\": dataCustomers.address,\r\n            \"nameCustome\": dataCustomers.name,\r\n            \"email\": dataCustomers.email,\r\n            \"product_orders\": productCart.cartItems.map((item) => (\r\n                {\r\n                    \"product_id\": item._id,\r\n                    \"quantity\": item.quantity,\r\n                    \"size\": item.sizeOrder,\r\n                }\r\n            )),\r\n            \"status\": \"Pending\"\r\n        }\r\n        try {\r\n            let orderSuccess = await axios.post('http://localhost:8000/api/order', Order);\r\n            reset()\r\n\r\n            return orderSuccess.data\r\n        } catch (error) {\r\n            console.error('Error sending data to server:', error);\r\n        }\r\n    }\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,mBAAmB;AACzC,SAASC,SAAS,QAAQ,6BAA6B;AACvD,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAMC,OAAO,GAAGH,WAAW,CAAC,CAAC;EAC7BF,KAAK,CAACM,QAAQ,CAACL,SAAS,CAAC,CAAC,CAAC;EAC3BI,OAAO,CAAC,GAAG,CAAC;AAChB,CAAC;AAAAD,EAAA,CAJKD,KAAK;EAAA,QACSD,WAAW;AAAA;AAI/B,eAAe,eAAeK,WAAWA,CAACC,aAAa,EAAEC,WAAW,EAAE;EAElE,IAAIC,SAAS,GAAG,KAAK;EACrB,KAAK,MAAMC,KAAK,IAAIH,aAAa,EAAE;IAC/B,IAAIA,aAAa,CAACG,KAAK,CAAC,KAAK,EAAE,EAAE;MAC7BD,SAAS,GAAG,KAAK;IACrB,CAAC,MAAM;MACHA,SAAS,GAAG,IAAI;IACpB;EACJ;EACA,IAAIA,SAAS,IAAID,WAAW,CAACG,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;IAC/C,IAAIC,KAAK,GAAG;MACR,OAAO,EAAEN,aAAa,CAACO,KAAK;MAC5B,SAAS,EAAEP,aAAa,CAACQ,OAAO;MAChC,aAAa,EAAER,aAAa,CAACS,IAAI;MACjC,OAAO,EAAET,aAAa,CAACU,KAAK;MAC5B,gBAAgB,EAAET,WAAW,CAACG,SAAS,CAACO,GAAG,CAAEC,IAAI,KAC7C;QACI,YAAY,EAAEA,IAAI,CAACC,GAAG;QACtB,UAAU,EAAED,IAAI,CAACE,QAAQ;QACzB,MAAM,EAAEF,IAAI,CAACG;MACjB,CAAC,CACJ,CAAC;MACF,QAAQ,EAAE;IACd,CAAC;IACD,IAAI;MACA,IAAIC,YAAY,GAAG,MAAMzB,KAAK,CAAC0B,IAAI,CAAC,iCAAiC,EAAEX,KAAK,CAAC;MAC7EX,KAAK,CAAC,CAAC;MAEP,OAAOqB,YAAY,CAACE,IAAI;IAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACzD;EACJ;AACJ;AAACE,EAAA,GAlC6BtB,WAAW;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}