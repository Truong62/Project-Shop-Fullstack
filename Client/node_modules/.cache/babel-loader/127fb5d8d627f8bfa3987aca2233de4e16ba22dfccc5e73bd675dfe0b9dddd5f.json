{"ast":null,"code":"import axios from'axios';import{store}from\"../../redux/store\";import{resetCart}from'../../redux/Slice/cartSlice';import{useNavigate}from'react-router-dom';const Reset=()=>{store.dispatch(resetCart());const history=useNavigate();history('/');};export default async function CreateOrder(dataCustomers,productCart){let checkData=false;for(const field in dataCustomers){if(dataCustomers[field]===\"\"){checkData=false;}else{checkData=true;}}if(checkData&&productCart.cartItems.length>0){let Order={\"phone\":dataCustomers.phone,\"address\":dataCustomers.address,\"nameCustome\":dataCustomers.name,\"email\":dataCustomers.email,\"product_orders\":productCart.cartItems.map(item=>({\"product_id\":item._id,\"quantity\":item.quantity,\"size\":item.sizeOrder})),\"status\":\"Pending\"};try{let orderSuccess=await axios.post('https://nntshop.onrender.com/api/order',Order);Reset();return orderSuccess.data;}catch(error){console.error('Error sending data to server:',error);}}}","map":{"version":3,"names":["axios","store","resetCart","useNavigate","Reset","dispatch","history","CreateOrder","dataCustomers","productCart","checkData","field","cartItems","length","Order","phone","address","name","email","map","item","_id","quantity","sizeOrder","orderSuccess","post","data","error","console"],"sources":["C:/Users/truon/OneDrive/Máy tính/Project-Shop/Client/src/components/API/CreateOrder.js"],"sourcesContent":["import axios from 'axios';\r\nimport { store } from \"../../redux/store\"\r\nimport { resetCart } from '../../redux/Slice/cartSlice';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Reset = () => {\r\n    store.dispatch(resetCart());\r\n    const history = useNavigate();\r\n    history('/');\r\n}\r\nexport default async function CreateOrder(dataCustomers, productCart) {\r\n\r\n    let checkData = false;\r\n    for (const field in dataCustomers) {\r\n        if (dataCustomers[field] === \"\") {\r\n            checkData = false\r\n        } else {\r\n            checkData = true\r\n        }\r\n    }\r\n    if (checkData && productCart.cartItems.length > 0) {\r\n        let Order = {\r\n            \"phone\": dataCustomers.phone,\r\n            \"address\": dataCustomers.address,\r\n            \"nameCustome\": dataCustomers.name,\r\n            \"email\": dataCustomers.email,\r\n            \"product_orders\": productCart.cartItems.map((item) => (\r\n                {\r\n                    \"product_id\": item._id,\r\n                    \"quantity\": item.quantity,\r\n                    \"size\": item.sizeOrder,\r\n                }\r\n            )),\r\n            \"status\": \"Pending\"\r\n        }\r\n        try {\r\n            let orderSuccess = await axios.post('https://nntshop.onrender.com/api/order', Order);\r\n            Reset()\r\n            return orderSuccess.data\r\n        } catch (error) {\r\n            console.error('Error sending data to server:', error);\r\n        }\r\n    }\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,mBAAmB,CACzC,OAASC,SAAS,KAAQ,6BAA6B,CACvD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAChBH,KAAK,CAACI,QAAQ,CAACH,SAAS,CAAC,CAAC,CAAC,CAC3B,KAAM,CAAAI,OAAO,CAAGH,WAAW,CAAC,CAAC,CAC7BG,OAAO,CAAC,GAAG,CAAC,CAChB,CAAC,CACD,cAAe,eAAe,CAAAC,WAAWA,CAACC,aAAa,CAAEC,WAAW,CAAE,CAElE,GAAI,CAAAC,SAAS,CAAG,KAAK,CACrB,IAAK,KAAM,CAAAC,KAAK,GAAI,CAAAH,aAAa,CAAE,CAC/B,GAAIA,aAAa,CAACG,KAAK,CAAC,GAAK,EAAE,CAAE,CAC7BD,SAAS,CAAG,KAAK,CACrB,CAAC,IAAM,CACHA,SAAS,CAAG,IAAI,CACpB,CACJ,CACA,GAAIA,SAAS,EAAID,WAAW,CAACG,SAAS,CAACC,MAAM,CAAG,CAAC,CAAE,CAC/C,GAAI,CAAAC,KAAK,CAAG,CACR,OAAO,CAAEN,aAAa,CAACO,KAAK,CAC5B,SAAS,CAAEP,aAAa,CAACQ,OAAO,CAChC,aAAa,CAAER,aAAa,CAACS,IAAI,CACjC,OAAO,CAAET,aAAa,CAACU,KAAK,CAC5B,gBAAgB,CAAET,WAAW,CAACG,SAAS,CAACO,GAAG,CAAEC,IAAI,GAC7C,CACI,YAAY,CAAEA,IAAI,CAACC,GAAG,CACtB,UAAU,CAAED,IAAI,CAACE,QAAQ,CACzB,MAAM,CAAEF,IAAI,CAACG,SACjB,CAAC,CACJ,CAAC,CACF,QAAQ,CAAE,SACd,CAAC,CACD,GAAI,CACA,GAAI,CAAAC,YAAY,CAAG,KAAM,CAAAxB,KAAK,CAACyB,IAAI,CAAC,wCAAwC,CAAEX,KAAK,CAAC,CACpFV,KAAK,CAAC,CAAC,CACP,MAAO,CAAAoB,YAAY,CAACE,IAAI,CAC5B,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACzD,CACJ,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}